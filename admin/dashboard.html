<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Welcome Aimé!</title>
    <link rel="stylesheet" href="admin.css">
    <link rel="stylesheet" href="../style.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://unicons.iconscout.com/release/v4.0.0/css/line.css">
    <script>
        let userRole = JSON.parse(localStorage.getItem("user_info"))?.role;
        console.log(userRole);
        if (!userRole || userRole != "admin") {
            window.location = "/";
        }
    </script>
</head>

<body>
    <div class="dashboard-wrapper">
        <div class="new-blog-form-wrapper">
            <div class="new-blog-form">
                <h2 class="blog-form-title">Creating a blog </h2>
                <span class="close-btn" onClick="hideCreateBlogForm()">X</span>
                <div class="section-wrapper" id="contactme">
                    <div class="section-sides" id="create-blog-container">
                        <div class="right-side contact-right-side">
                            <div class="">
                                <div class="input__container">
                                    <label for="" class="contact__label">Title</label>
                                    <input type="text" name="name" class="contact__input title">
                                </div>
                            </div>
                            <div class="contact-flex">
                                <div class="input__container file-input-container">
                                    <div class="file-input">
                                        <input type="file" name="file-input" id="file-input"
                                            class="file-input__input" />
                                        <label class="file-input__label" for="file-input">
                                            <svg aria-hidden="true" focusable="false" data-prefix="fas"
                                                data-icon="upload" class="svg-inline--fa fa-upload fa-w-16" role="img"
                                                xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
                                                <path fill="currentColor"
                                                    d="M296 384h-80c-13.3 0-24-10.7-24-24V192h-87.7c-17.8 0-26.7-21.5-14.1-34.1L242.3 5.7c7.5-7.5 19.8-7.5 27.3 0l152.2 152.2c12.6 12.6 3.7 34.1-14.1 34.1H320v168c0 13.3-10.7 24-24 24zm216-8v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h136v8c0 30.9 25.1 56 56 56h80c30.9 0 56-25.1 56-56v-8h136c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z">
                                                </path>
                                            </svg>
                                            <span>Upload file</span></label>
                                    </div>
                                </div>

                                <div class="input__container">
                                    <label for="" class="contact__label">Tags (Separate them with commas)</label>
                                    <input type="email" name="name" class="contact__input">
                                </div>
                            </div>
                            <div class="input__container textarea">
                                <label for="" class="contact__label">Description</label>
                                <textarea name="" id="" cols="20" rows="6" class="description"></textarea>
                            </div>
                            <span class="error dashboard"></span>
                            <button class="button create-blog-btn" onclick="validateForm()">
                                <span>
                                    Create blog
                                </span>
                                <img src="./assets/chevron.svg" alt="">
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="edit-blog-form-wrapper">
            <div class="edit-blog-form">
                <h2 class="blog-form-title">Edit a blog </h2>
                <span class="close-btn" onClick="hideEditBlogForm()">X</span>
                <div class="section-wrapper" id="contactme">
                    <div class="section-sides" id="create-blog-container">
                        <div class="right-side contact-right-side">
                            <div class="contact-flex">
                                <div class="input__container">
                                    <label for="" class="contact__label">Title</label>
                                    <input type="text" name="name" class="contact__input"
                                        value="Andela Brand's Evolution">
                                </div>
                                <div class="input__container">
                                    <label for="" class="contact__label">Tags (Separate them with commas)</label>
                                    <input type="email" name="name" class="contact__input" value="tech,talent pool">
                                </div>
                            </div>
                            <div class="input__container">
                                <label for="" class="contact__label">Banner photo url</label>
                                <input type="text" name="name" class="contact__input"
                                    value="https://andela.com/wp-content/uploads/2022/03/andela-social-share-default.png">
                            </div>
                            <div class="input__container textarea">
                                <label for="" class="contact__label">Description</label>
                                <textarea name="" id="" cols="20"
                                    rows="9">Our new brand symbolizes the spark created when people come together through @Andela to make an impact and the limitless opening of the world, keeping us moving toward a brighter, more brilliant future. #ThisisAndela </textarea>
                            </div>
                            <button class="button create-blog-btn">
                                <span>
                                    Save Changes
                                </span>
                                <img src="./assets/chevron.svg" alt="">
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="admin-sidebar">
            <ul class="admin-ul">
                <li>
                    <i class="uil uil-user-circle"></i>
                    <a href="">Profile</a>
                </li>
                <x></x>
                <li class="active">
                    <i class="uil uil-blogger"></i>
                    <a href="">Blogs</a>
                </li>
                <li onClick="logout()">
                    <i class="uil uil-sign-out-alt"></i>
                    <span>Logout</span>
                </li>
            </ul>
        </div>
        <div class="admin-main">
            <div class="top-header">
                <h1>

                    Dashboard
                </h1>
                <div class="statistics">
                    <div class="stat-card">
                        <div class="stat-card-content">
                            <p class="text-uppercase mb-1 text-muted">Total views</p>
                            <h2><i class="fa fa-eye"></i> 1,334</h2>

                        </div>
                        <div class="stat-card-icon stat-card-icon--success">
                            <div class="stat-card-icon-circle">
                                <i class="fa fa-suitcase"></i>
                            </div>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-card-content">
                            <p class="text-uppercase mb-1 text-muted">Total readers</p>
                            <h2>15,254</h2>
                        </div>
                        <div class="stat-card-icon stat-card-icon--primary">
                            <div class="stat-card-icon-circle">
                                <i class="fa fa-users"></i>
                            </div>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-card-content">
                            <p class="text-uppercase mb-1 text-muted">Total likes</p>
                            <h2>12, 040</h2>
                        </div>
                        <div class="stat-card-icon stat-card-icon--primary">
                            <div class="stat-card-icon-circle">
                                <i class="fa fa-heart" style="color: crimson"></i>
                            </div>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-card-content">
                            <p class="text-uppercase mb-1 text-muted">All Blogs</p>
                            <h2>23, 300</h2>
                        </div>
                        <div class="stat-card-icon stat-card-icon--primary">
                            <div class="stat-card-icon-circle">
                                <i class="fa fa-edit"></i>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="blogs">
                <div class="card">
                    <div class="card-header" onclick="openSingleBlog()">
                        <img src="https://andela.com/wp-content/uploads/2022/03/andela-social-share-default.png" alt="">
                    </div>
                    <div class="card-content">
                        <span>Growth</span>
                        <span class="action-icon" onclick="showEditBlogForm()"> <i class="uil-edit-alt"></i> </span>
                        <span class="action-icon two"> <i class="uil uil-trash-alt"></i> </span>
                        <h3>Andela Brand's Evolution</h3>
                        <p onclick="openSingleBlog()">Our new brand symbolizes the spark created when people come
                            together through
                            @Andela
                            to make an impact and the limitless opening of the world, keeping us moving toward a
                            brighter, more brilliant future. #ThisisAndela </p>
                    </div>
                    <div class="card-footer">
                        <img src="https://lh3.googleusercontent.com/a-/AOh14GjtR01FIFEXU5kGpo2k7DgcWEN8EW64HbEBguRKDw=s288-p-rw-no"
                            alt="">
                        <div class="author">
                            <p>Aimé Igirimpuhwe</p>
                            <small>2h ago</small>
                        </div>
                    </div>
                </div>
                <div class="card">
                    <div class="card-header" onclick="openSingleBlog()">
                        <img src="https://andela.com/wp-content/uploads/2022/03/andela-social-share-default.png" alt="">
                    </div>
                    <div class="card-content">
                        <span>Growth</span>
                        <span class="action-icon" onclick="showEditBlogForm()"> <i class="uil-edit-alt"></i> </span>
                        <span class="action-icon two"> <i class="uil uil-trash-alt"></i> </span>
                        <h3>Andela Brand's Evolution</h3>
                        <p onclick="openSingleBlog()">Our new brand symbolizes the spark created when people come
                            together through
                            @Andela
                            to make an impact and the limitless opening of the world, keeping us moving toward a
                            brighter, more brilliant future. #ThisisAndela </p>
                    </div>
                    <div class="card-footer">
                        <img src="https://lh3.googleusercontent.com/a-/AOh14GjtR01FIFEXU5kGpo2k7DgcWEN8EW64HbEBguRKDw=s288-p-rw-no"
                            alt="">
                        <div class="author">
                            <p>Aimé Igirimpuhwe</p>
                            <small>2h ago</small>
                        </div>
                    </div>
                </div>
                <div class="card">
                    <div class="card-header" onclick="openSingleBlog()">
                        <img src="https://andela.com/wp-content/uploads/2022/03/andela-social-share-default.png" alt="">
                    </div>
                    <div class="card-content">
                        <span>Growth</span>
                        <span class="action-icon" onclick="showEditBlogForm()"> <i class="uil-edit-alt"></i> </span>
                        <span class="action-icon two"> <i class="uil uil-trash-alt"></i> </span>
                        <h3>Andela Brand's Evolution</h3>
                        <p onclick="openSingleBlog()">Our new brand symbolizes the spark created when people come
                            together through
                            @Andela
                            to make an impact and the limitless opening of the world, keeping us moving toward a
                            brighter, more brilliant future. #ThisisAndela </p>
                    </div>
                    <div class="card-footer">
                        <img src="https://lh3.googleusercontent.com/a-/AOh14GjtR01FIFEXU5kGpo2k7DgcWEN8EW64HbEBguRKDw=s288-p-rw-no"
                            alt="">
                        <div class="author">
                            <p>Aimé Igirimpuhwe</p>
                            <small>2h ago</small>
                        </div>
                    </div>
                </div>
                <div class="card">
                    <div class="card-header" onclick="openSingleBlog()">
                        <img src="https://andela.com/wp-content/uploads/2022/03/andela-social-share-default.png" alt="">
                    </div>
                    <div class="card-content">
                        <span>Growth</span>
                        <span class="action-icon" onclick="showEditBlogForm()"> <i class="uil-edit-alt"></i> </span>
                        <span class="action-icon two"> <i class="uil uil-trash-alt"></i> </span>
                        <h3>Andela Brand's Evolution</h3>
                        <p onclick="openSingleBlog()">Our new brand symbolizes the spark created when people come
                            together through
                            @Andela
                            to make an impact and the limitless opening of the world, keeping us moving
                            toward a brighter, more brilliant future. #ThisisAndela </p>
                    </div>
                    <div class="card-footer">
                        <img src="https://lh3.googleusercontent.com/a-/AOh14GjtR01FIFEXU5kGpo2k7DgcWEN8EW64HbEBguRKDw=s288-p-rw-no"
                            alt="">
                        <div class="author">
                            <p>Aimé Igirimpuhwe</p>
                            <small>2h ago</small>
                        </div>
                    </div>
                </div>
                <div class="card">
                    <div class="card-header" onclick="openSingleBlog()">
                        <img src="https://andela.com/wp-content/uploads/2022/03/andela-social-share-default.png" alt="">
                    </div>
                    <div class="card-content">
                        <span>Growth</span>
                        <span class="action-icon" onclick="showEditBlogForm()"> <i class="uil-edit-alt"></i> </span>
                        <span class="action-icon two"> <i class="uil uil-trash-alt"></i> </span>
                        <h3>Andela Brand's Evolution</h3>
                        <p onclick="openSingleBlog()">Our new brand symbolizes the spark created when people come
                            together through
                            @Andela
                            to make an impact and the limitless opening of the world, keeping us moving
                            toward a brighter, more brilliant future. #ThisisAndela </p>
                    </div>
                    <div class="card-footer">
                        <img src="https://lh3.googleusercontent.com/a-/AOh14GjtR01FIFEXU5kGpo2k7DgcWEN8EW64HbEBguRKDw=s288-p-rw-no"
                            alt="">
                        <div class="author">
                            <p>Aimé Igirimpuhwe</p>
                            <small>2h ago</small>
                        </div>
                    </div>
                </div>
                <div class="card">
                    <div class="card-header" onclick="openSingleBlog()">
                        <img src="https://andela.com/wp-content/uploads/2022/03/andela-social-share-default.png" alt="">
                    </div>
                    <div class="card-content">
                        <span>Growth</span>
                        <span class="action-icon" onclick="showEditBlogForm()"> <i class="uil-edit-alt"></i> </span>
                        <span class="action-icon two"> <i class="uil uil-trash-alt"></i> </span>
                        <h3>Andela Brand's Evolution</h3>
                        <p onclick="openSingleBlog()">Our new brand symbolizes the spark created when people come
                            together
                            through
                            @Andela
                            to make an impact and the limitless opening of the world, keeping us
                            moving toward a brighter, more brilliant future. #ThisisAndela </p>
                    </div>
                    <div class="card-footer">
                        <img src="https://lh3.googleusercontent.com/a-/AOh14GjtR01FIFEXU5kGpo2k7DgcWEN8EW64HbEBguRKDw=s288-p-rw-no"
                            alt="">
                        <div class="author">
                            <p>Aimé Igirimpuhwe</p>
                            <small>2h ago</small>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Add new blog -->
        <div class="new-blog-btn" title="Add new blog" onclick="showCreateBlogForm()">
            <div class="stat-card-icon stat-card-icon--primary">
                <div class="stat-card-icon-circle">
                    <i class="fa fa-plus"></i>
                </div>
            </div>
        </div>
    </div>

    <script>
        let newBlogForm = document.querySelector(".new-blog-form-wrapper")
        let editBlogForm = document.querySelector(".edit-blog-form-wrapper")
        function showCreateBlogForm() {

            newBlogForm.classList.toggle("visible");
        }
        function hideCreateBlogForm() {
            newBlogForm.classList.remove("visible");
        }

        function showEditBlogForm() {

            editBlogForm.classList.toggle("visible");
        }
        function hideEditBlogForm() {

            editBlogForm.classList.remove("visible");
        }

        function validateForm() {
            let title = document.querySelector(".title").value;
            let description = document.querySelector(".description").value;
            let errorEl = document.querySelector(".error");

            if (!title.trim().length) {
                errorEl.innerHTML = "Title cannot be empty"
            } else if (!description.trim().length) {
                errorEl.innerHTML = "Description cannot be empty"
            } else if (description.trim().length < 50) {
                errorEl.innerHTML = "Description must be at least 50 characters long";
            } else if (description.trim().length > 1000) {
                errorEl.innerHTML = "Description must be at most 1000 characters long"
            } else if (title.trim().length > 150) {
                errorEl.innerHTML = "Title must be at most 150 characters long"
            }
            else {
                window.location = "/admin/dashboard.html";
            }
        }

        function logout() {
            localStorage.clear();
            window.location = "/index.html";
        }
        function openSingleBlog() {
            window.location = "/single_blog.html";
        }
    </script>
</body>

</html>